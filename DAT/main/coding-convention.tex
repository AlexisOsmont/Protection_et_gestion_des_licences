\section{Charte de code}

\subsection{Formatage du code}
Les accolades sont positionnées en fin et début de fonction ou de bloc en 
respectant les conventions adoptées dans les environnements Visual Studio 
mais aussi www.gnu.org. Ce formatage permet de rendre le code plus aéré, 
et ainsi faciliter la relecture.

\begin{minted}{c}
static char *concat(char *s1, char *s2)
{
    ...
}
\end{minted}

Le code sera tabulé par bloc comme dans l'exemple suivant:
\begin{minted}{c}
void foo(int x)
{
    int res = 0;
    for (int i = 0; i < x; ++i)
    {
        res += i * x;
    }
    printf("res : %d\n", res);
}
\end{minted}

De plus les recommandations suivantes seront respectés:
\begin{itemize}
	\item Une seule instruction par ligne.
	\item Une seule déclaration par ligne.
	\item Une tabulation sera transformée en quatre espaces.	
	\item La longueur maximale d'une ligne est de 80 charactères.
    \item La définition des variables se fait au début d'une fonction avant
              toutes autres instructions. 
\end{itemize}

Enfin les opérandes utilisées pour les opérations \mintinline{c}{&&} et \mintinline{c}{||}
seront entourées de parenthèses afin d'éviter les ambiguïtés :
\begin{minted}{c}
if ((x != 0) && (isValid(y) || y == 5))
{
    ...
}
\end{minted}

\subsection{Sortie de fonctions}

Un seul \mintinline{c}{return} par fonction afin de
\begin{itemize}
	\item Faciliter la trace de la sortie.
	\item Le placement de break points lors du debug.
	\item Faciliter l’analyse de la fonction.
\end{itemize}

Les \mintinline{c}{goto} sont interdits.

\subsection{Commentaires}
Les commentaires ne doivent pas qu’uniquement formuler en texte ce qui est traduit
dans le langage de programmation (qui se doit d'être lisible) : \newline
Ils apportent une réelle plus-value dans la compréhension du programme ou doivent
attirer l’attention du mainteneur sur certains choix réalisés. Les commentaires seront 
rédigés en anglais. \newline
Un commentaire doit être sur une seule ligne (ne peut pas être sur la même ligne 
que du code).
 
\subsection{Nommages}
La définition des constantes seront en majuscules séparé par des underscores.\newline
Pour la définition d'un type, d'une structure ou d'une classe la notation 'PascalCase'
sera utilisé: 
\begin{minted}{c}
typedef struct 
{
    ...
}
SuperComplexDataType;
\end{minted}

Pour les variables et les fonctions les noms devront être significatifs et 
pertinents.\newline
Ils sont constitués uniquement des caractères non accentués suivants: 
[a-z], [A-Z], [0-9]\newline
Avec les restrictions suivantes :
\begin{itemize}
	\item Le nom ne doit pas commencer par un chiffre.
	\item Le nom ne peut pas avoir de caractères "underscore".
	\item Les noms doivent être en 'camelCase', en Anglais.
	\item Les noms ne peuvent pas commencer par des majuscules exception faite
          des acronymes (voir plus bas).
\end{itemize}
Les noms doivent être homogènes pour un domaine fonctionnel donné. Par exemple, 
toutes les fonctions relatives à la gestion de la mémoire dans une API peuvent 
être du type: \newline 
\begin{verbatim}
APIMemoryOpen(), APIMemoryClose(), APIMemorySet(...)
\end{verbatim}

